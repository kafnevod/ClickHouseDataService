## Цель

Создание ClickHouse DataService (ICSSoft.STORMNET.Business.ClickHouseDataService) в рамках проекта
[Flexberry ORM](https://github.com/Flexberry/NewPlatform.Flexberry.ORM).

## Функциональные требования

DataService должен обеспечивать объектно-реляционное отображение запросов из Microsoft .NET Framework
в SQL-запросы с базе данных ClickHouse.

## Особенности реализации

ClickHouse обеспечиает эффективную работу с "большими" таблицами - сотни миллионов, миллиарды и более записей.
В связи с этим большое внимание необходимо уделить качественному формированию SQL-запроса,
обеспечивающее быстрое и эффективное (с минимальными промежуточными таблицами) выполнение запросов.

Особенности модели данных ClickHouse:

- ClickHouse не поддерживает запросы `UPDATE`, `DELETE`
В связи с этим необходимо реализовать только операции выборки (`SELECT`) данных.

- Как правило ClickHouse работает с одной "широкой" (возможно денормализованной) таблицей размером сотни миллионов и более записей. ClickHouse - поколоночная база.
Время выполнения запроса прямо пропорционально числу выбиремых столбцов.
В связи с этим необходимо минимизировать число выбираемых столбцов в запросе `SELECT`

- Операции `JOIN` "большой" таблицы, как правило, производятся с небольщими (до миллиона записей) справочными таблицами.
В связи с этим необходимо:

  * В начальном запросе и в подзапросах `LEFT JOIN` использовать не сами соединяемые таблицы, а выборки из них 
  `SELECT FROM column, column FROM table ...`
 
  * Минимизировать число выбираемых столбцов в кажом запросе `SELECT`

  * Начальный запрос `SELECT` должен формироваться для "большой" таблицы  и использовать оператор `IN` 
  для выборки записей из большой таблицы  с последующим соединением выбранных записей с требуемыми спавочными таблицами.
  
 
